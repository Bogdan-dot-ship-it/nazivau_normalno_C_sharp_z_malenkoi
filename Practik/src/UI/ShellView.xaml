<Window x:Class="UI.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        mc:Ignorable="d"
        Title="Workshop Manager" Height="720" Width="1280"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        FontFamily="{materialDesign:MaterialDesignFont}">

    <materialDesign:DrawerHost IsLeftDrawerOpen="{Binding IsMenuOpen, Mode=TwoWay}">
        <materialDesign:DrawerHost.LeftDrawerContent>
            <DockPanel MinWidth="220">
                <ToggleButton Style="{StaticResource MaterialDesignHamburgerToggleButton}" 
                              DockPanel.Dock="Top"
                              HorizontalAlignment="Right" Margin="16"
                              IsChecked="{Binding IsMenuOpen, Mode=TwoWay}" />
                
                <ListBox x:Name="NavigationListBox" Margin="0,16,0,16" SelectedIndex="0" Visibility="{Binding IsUserLoggedIn, Converter={StaticResource BooleanToVisibilityConverter}}" >
                    <ListBoxItem>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ShowDashboardViewCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ViewDashboard" Margin="0,0,10,0" Width="24" Height="24" VerticalAlignment="Center"/>
                            <TextBlock Text="Dashboard" FontSize="16" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ShowClientsViewCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <ListBoxItem.Visibility>
                            <Binding Path="CanShowClients" Converter="{StaticResource BooleanToVisibilityConverter}"/>
                        </ListBoxItem.Visibility>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="AccountMultiple" Margin="0,0,10,0" Width="24" Height="24" VerticalAlignment="Center"/>
                            <TextBlock Text="Clients" FontSize="16" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ShowDevicesViewCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <ListBoxItem.Visibility>
                            <Binding Path="CanShowDevices" Converter="{StaticResource BooleanToVisibilityConverter}"/>
                        </ListBoxItem.Visibility>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Cellphone" Margin="0,0,10,0" Width="24" Height="24" VerticalAlignment="Center"/>
                            <TextBlock Text="Devices" FontSize="16" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ShowOrdersViewCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <ListBoxItem.Visibility>
                            <Binding Path="CanShowOrders" Converter="{StaticResource BooleanToVisibilityConverter}"/>
                        </ListBoxItem.Visibility>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ClipboardText" Margin="0,0,10,0" Width="24" Height="24" VerticalAlignment="Center"/>
                            <TextBlock Text="Orders" FontSize="16" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ListBoxItem>

                    <ListBoxItem>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="PreviewMouseLeftButtonDown">
                                <i:InvokeCommandAction Command="{Binding ShowAdminViewCommand}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                        <ListBoxItem.Visibility>
                            <Binding Path="CanShowAdmin" Converter="{StaticResource BooleanToVisibilityConverter}"/>
                        </ListBoxItem.Visibility>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ShieldAccount" Margin="0,0,10,0" Width="24" Height="24" VerticalAlignment="Center"/>
                            <TextBlock Text="Admin" FontSize="16" VerticalAlignment="Center"/>
                        </StackPanel>
                    </ListBoxItem>
                    <!---->
                </ListBox>
            </DockPanel>
        </materialDesign:DrawerHost.LeftDrawerContent>

        <DockPanel>
            <materialDesign:ColorZone Padding="16" Mode="PrimaryMid" DockPanel.Dock="Top">
                <DockPanel>
                    <ToggleButton Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                                  IsChecked="{Binding IsMenuOpen, Mode=TwoWay}"
                                  Visibility="{Binding IsUserLoggedIn, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                    <Button Content="Logout" Command="{Binding LogoutCommand}" Visibility="{Binding IsUserLoggedIn, Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalAlignment="Right"/>
                    <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="22">Workshop Manager</TextBlock>
                </DockPanel>
            </materialDesign:ColorZone>

            <Grid Margin="16">
                <ContentControl Content="{Binding CurrentViewModel}"/>
            </Grid>
        </DockPanel>
    </materialDesign:DrawerHost>
</Window>
